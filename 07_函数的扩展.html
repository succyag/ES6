<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // function log(x, y = 'World') {
        //     console.log(x, y);
        // }
        // log('Hello');
        // log('Hello', 'China');
        // log('Hello', '');

        // function Point(x = 0, y = 0) {
        //     this.x = x;
        //     this.y = y;
        // }
        // const p = new Point();
        // console.log(p);

        // console.log((function (a) {}).length);
        // console.log((function (a = 10) {}).length);

        // var x = 1;

        // function f(x, y = x) {
        //     console.log(y);
        // }
        // f(2);

        // let foo = 'outer';

        // function bar(func = () => foo) {
        //     let foo = 'inner';
        //     console.log(func());
        // }

        // bar();

        // var x = 1;
        // function foo (x, y = function() {x = 2;}) {
        //     var x = 3;
        //     y();
        //     console.log(x);
        // }

        // foo();
        // console.log(x);

        // var x = 1;
        // function foo (x, y = function() {x = 2;}) {
        //     x = 3;
        //     y();
        //     console.log(x);
        // }

        // foo();
        // console.log(x);

        // function throwIfMissing() {
        //     throw new Error('Missing parameter');
        // }

        // function foo(mustBeProvided = throwIfMissing()) {
        //     return mustBeProvided;
        // }

        // foo();

        // function add(...values) {
        //     let sum = 0;

        //     for (let val of values) {
        //         sum += val;
        //     }

        //     return sum;
        // }

        // console.log(add(2, 5, 3));

        // function push(array, ...items) {
        //     items.forEach(function(item) {
        //         array.push(item);
        //         console.log(item);
        //     });
        // }

        // var a = [];
        // push(a, 1, 2, 3);

        // const doSomething = function ({a, b}) {
        //     'use strict';
        // };

        // let getTempItem = id => {id: id, name: "Temp"};

        // let getTempItem = id => ({id: id, name: "Temp"});

        // function foo() {
        //     setTimeout(() => {
        //         // console.log(this);
        //         console.log('id:', this.id);
        //     }, 1000);
        // }

        // var id = 21;

        // foo.call({id: 42});

        // function Timer() {
        //     this.s1 = 0;
        //     this.s2 = 0;

        //     setInterval(() => this.s1 ++, 1000);

        //     setInterval(function () {
        //         this.s2 ++;
        //     }, 1000);
        // }

        // var timer = new Timer();

        // setTimeout(() => console.log('s1: ', timer.s1), 3100);
        // setTimeout(() => console.log('s2: ', timer.s2), 3100);

        // var handler = {
        //     id: '123456',

        //     init: function () {
        //         document.addEventListener('click',
        //             event => this.doSomething(event, type), false);
        //     },

        //     doSomething: function (type) {
        //         console.log('Handling' + type + ' for ' + this.id);
        //     }
        // };

        // function foo() {
        //     setTimeout(() => {
        //         console.log('id: ', this.id);
        //     }, 100);
        // }

        // function foo() {
        //     var _this = this;

        //     setTimeout(function () {
        //         console.log('id: ', _this.id);
        //     }, 100);
        // }

        // function foo() {
        //     return () => {
        //         return () => {
        //             return () => {
        //                 console.log('id: ', this.id);
        //             };
        //         };
        //     };
        // }

        // var f = foo.call({id: 1});
        // // console.log(f);
        // var t1 = f.call({id: 2})()();
        // var t2 = f().call({id: 3})();
        // var t3 = f()().call({id: 4});

        // globalThis.s = 21;

        // const obj = {
        //     s: 42,
        //     m: () => console.log(this.s)
        // };

        // obj.m();

        // globalThis.s = 21;
        // globalThis.m = () => console.log(this.s);

        // const obj = {
        //     s: 42,
        //     m: globalThis.m
        // };

        // obj.m();

        // function insert(value) {
        //     return {into: function (array) {
        //         return {after: function (afterValue) {
        //             array.splice(array.indexOf(afterValue) + 1, 0, value);
        //             return array;
        //         }};
        //     }};
        // }

        // console.log(insert(2).into([1, 3]).after(1));

        // let insert = (value) => ({into: (array) => ({after: (afterValue) => {
        //     array.splice(array.indexOf(afterValue) + 1, 0, value);
        //     return array;
        // }})});

        // console.log(insert(2).into([1, 3]).after(1));

        // const pipeline = (...funcs) =>
        //     val => funcs.reduce((a, b) => b(a), val);

        // const plus1 = a => a + 1;
        // const mult2 = a => a * 2;
        // const addThenMult = pipeline(plus1, mult2);

        // console.log(addThenMult(5));

        // const plus1 = a => a + 1;
        // const mult2 = a => a * 2;

        // console.log(mult2(plus1(5)));

        // λ演算的写法
        // fix = λf.(λx.f(λv.x(x)(v)))(λx.f(λv.x(x)(v)))

        // ES6的写法
        // var fix = f => (x => f(v => x(x)(v)))
        //     (x => f(v => x(x)(v)));

        // function factorial(n) {
        //     if (n === 1) return 1;
        //     return n * factorial(n - 1);
        // }

        // console.log(factorial(5));

        // function factorial(n, total) {
        //     if (n === 1) return total;
        //     return factorial(n - 1, n * total);
        // }
        // console.log(factorial(5, 1))

        // function Fibonacci(n) {
        //     if (n <= 1) {return 1};

        //     return Fibonacci(n - 1) + Fibonacci(n - 2);
        // }

        // console.log(Fibonacci(10));
        // console.log(Fibonacci(100));
        // console.log(Fibonacci(500));

        // function Fibonacci2 (n, ac1 = 1, ac2 = 1) {
        //     if (n <= 1) {return ac2};

        //     return Fibonacci2(n - 1, ac2, ac1 + ac2);
        // }

        // console.log(Fibonacci2(100));
        // console.log(Fibonacci2(1000));
        // console.log(Fibonacci2(10000));

        
    </script>
</body>
</html>